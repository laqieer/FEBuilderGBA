//FE8Jの 0800A004 String_ExpandNames の問題を修正します。
//FE8Jはエスケープシーケンス以外は全部2バイトであるとしてプログラムされている。
//そのため、1バイトの文字を表示するパッチととても相性が悪い。
//また作業メモリとしてテキストバッファの後半を再利用しているという変な構造になっていることも問題である。
//
//そのため、長文のテキスト会話を表示した後で、ステータス画面を開いて、Rボタンを押すと、フリーズしてします。
//これは、上記特性からくるものです。
//リセットすればテキストバッファがnullクリアされて綺麗になるのでこの問題は起きなくなりますが、とても見苦しいので修正します
//具体的には、String_ExpandNamesの冒頭で0x100バイト(256byte)ほど作業メモリをmemsetで0クリアします
//そのあとで、CopyStringでデータをコピーします。
//これにより、FE8JのバグっているString_ExpandNamesでもちゃんと動作するようになります。
//
PUSH
ORG 0x0A014
jumpToHack(ClearAndCopyString)
POP

ALIGN 4
ClearAndCopyString:
#incbin "ClearAndCopyString.dmp"

ALIGN 4
